---
layout: default
---

## Проект «Яблоки»

Весь проект должен размещаться в трёх файлах: `Apple.h`, `Apple.cpp`,
`main.cpp`. При решении задач стоит консультироваться с
[электронным конспектом](http://razykov.github.io/PL_Lections_2014-2015/).

Каждая определённая в проекте перегруженная операция должна проверяться
в `main` с помощью `assert`, иначе баллы за неё не выставляются.
Потоковые операции должны проверяться `assert` и строковыми потоками,
как было показано на прошлом занятии.

1.  Объявите перечислимый тип для цвета яблока:

        enum AppleColor {green, yellow, red}; // можно enum class

2.  [1 балл] Объявите класс `Apple`, содержащий следующие поля:

    * `_color` типа `AppleColor`;
    * `_weight` типа `double`.

Реализуйте конструктор со списком инициализации и константные
функции-члены для чтения значений полей.

3.  [1.5 балла]
    Определите операцию чтения из потока. Вводиться из потока должно
    два числа: целое число для задания цвета (0, 1 или 2) и
    вещественное число для задания веса. Операцию ввода необходимо
    сделать дружественной, так как нужен доступ к полям класса на запись.
    Определите операцию прямо внутри класса.

4.  [2 балла]
    Определите операции сравнения на равенство и неравенство как внешние
    функции. Два яблока считаются одинаковыми, если совпадают их цвет и вес.
    **Указание:** операция неравенства определяется в терминах операции
    сравнения на равенство.

5.  [2.5 балла]
    Определите префиксную и постфиксную операцию `++`, она должна
    превращать зелёное яблоко в жёлтое, жёлтое в красное, а красное
    оставлять без изменения.

6.  [3 балла]
    Определите операции сравнения `<`, `<=` как внешние
    функции. Считается, что одно яблоко меньше другого, если его вес
    меньше. Если вес двух яблок совпадает, то необходимо учитывать
    цвет: зеленое яблоко меньше жёлтого, а жёлтое меньше красного.
    Реализация нестрогого неравенства должна использовать операции
    строгого неравенств и сравнения на равенства.

## Дополнительные задачи

Перед началом решения дополнительных задач получите у преподавателя
одобрение выполненной ранее работы.

1.  Определите операцию `+=`, которая увеличивает вес
    яблока на заданную вещественную величину:

        Apple & operator+= (double d) { /* … */ }

2.  Определите операцию `<<=`, которая присваивает цвету яблока
    указанное значение:

        Apple &  operator<<= (AppleColor ac) { /* … */ }

3.  Определите операции и тексты к ним:

    * `--` (префиксный и постфиксный) аналогично `++`,
    * `-=` аналогично `+=`,
    * `>`, `>=` аналогично `<` и `<=`,
    * `<<` — операцию вывода в поток.
